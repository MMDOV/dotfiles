#!/usr/bin/env bash

tmux new-window -dn scratch

dir=$(pwd)
if [[ $(dirname "$dir") != "$HOME/dev/pyprojects" ]]; then
    vim .
    exit 0
fi

if [[ -d "$dir/.venv" ]]; then
    source "$dir/.venv/bin/activate"
elif [[ -d "$dir/venv" ]]; then
    source "$dir/venv/bin/activate"
fi
tmux send-keys -t scratch "source $dir/venv/bin/activate" C-m

tmux send-keys -t scratch "clear" C-m

clear
vim .
